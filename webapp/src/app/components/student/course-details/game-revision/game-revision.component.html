<div class="d-flex justify-content-center">
    <div class="spinner-border text-primary" role="status" *ngIf="isLoading">
        <span class="visually-hidden">Loading...</span>
    </div>
</div>
<h1 *ngIf="!isLoading">Cuestionario: {{result.game!.survey!.title}}</h1>
<div class="revision" *ngIf="!isLoading">
    <div class="contenido">
        <div class="resumen">
            <p>Preguntas correctas: {{result.correct_questions}}</p>
            <p>Preguntas incorrectas: {{result.wrong_questions}}</p>
            <p>Preguntas sin contestar: {{result.total_questions! - result.wrong_questions! -
                result.correct_questions!}}
            </p>
        </div>
        <div class="pregunta" *ngFor="let i of questionIndexes">
            <h5>{{i + 1}}.</h5>
            <h5>{{result.game!.survey!.questionsSurvey[i].question.description}}</h5>
            <div *ngFor="let answer of result.game!.survey!.questionsSurvey[i].question.answers">
                <div class="d-flex flex-rowalign-items-center">
                    <small class="align-self-center text-break w-75">{{ answer.description }}</small>
                    <mat-icon class="w-auto" [ngStyle]="{'color':'green'}" *ngIf="answer.is_correct">check</mat-icon>
                    <mat-icon class="w-auto" [ngStyle]="{'color':'red'}" *ngIf="!answer.is_correct">clear</mat-icon>
                </div>
            </div>
            <div class="d-flex flex-row align-items-center" *ngFor="let answerResult of result.answer_results">
                <div class="respuesta" *ngIf="answerResult.question_id == result.game!.survey!.questionsSurvey[i].question.id">
                    <p>Su respuesta:</p>
                    <p class="align-self-center ">{{ answerResult.answer!.description }}</p>
                    <mat-icon class="w-auto" [ngStyle]="{'color':'green'}"
                        *ngIf="answerResult.answer!.is_correct">check</mat-icon>
                    <mat-icon class="w-auto" [ngStyle]="{'color':'red'}"
                        *ngIf="!answerResult.answer!.is_correct">clear</mat-icon>
                    <mat-icon class="w-auto bg-secondary" [ngStyle]="{'color':'grey'}"
                        *ngIf="!answerResult.answered">clear</mat-icon>
                </div>
            </div>
        </div>
        <button class="mb-5 w-50 h-100" mat-raised-button>Finalizar revisi√≥n</button>
    </div>
    <div class="resumen-preguntas w-100">
        <div class="d-flex flex-column flex-wrap align-items-center resumen-pregunta" *ngFor="let i of questionIndexes">
            <small class="">{{i + 1}}</small>
            <div class="border-top" *ngFor="let answerResult of result.answer_results">
                <div *ngIf="answerResult.question_id == result.game!.survey!.questionsSurvey[i].question.id">
                    <mat-icon class="w-auto" [ngStyle]="{'color':'green'}"
                        *ngIf="answerResult.answer!.is_correct">check</mat-icon>
                    <mat-icon class="w-auto" [ngStyle]="{'color':'red'}"
                        *ngIf="!answerResult.answer!.is_correct">clear</mat-icon>
                    <mat-icon class="w-auto bg-secondary" [ngStyle]="{'color':'grey'}"
                        *ngIf="!answerResult.answered">clear</mat-icon>
                </div>
            </div>
        </div>
    </div>
</div>